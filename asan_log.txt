=================================================================
==54449==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x7c2cdf5e02a0 at pc 0x0000004ecf52 bp 0x7ffd34bdad40 sp 0x7ffd34bdad38
READ of size 8 at 0x7c2cdf5e02a0 thread T0
    #0 0x0000004ecf51 in free_map /home/diaski/pp/map.c:51:14
    #1 0x0000004ea358 in main /home/diaski/pp/main.c:69:5
    #2 0x7f4ce022d5b4 in __libc_start_call_main (/lib64/libc.so.6+0x35b4) (BuildId: b1556adba4fb835078af59a0c8bb38367dc860ed)
    #3 0x7f4ce022d667 in __libc_start_main@GLIBC_2.2.5 (/lib64/libc.so.6+0x3667) (BuildId: b1556adba4fb835078af59a0c8bb38367dc860ed)
    #4 0x000000400864 in _start (/home/diaski/pp/swallow+0x400864) (BuildId: 422dd2cee5bde20f999ea7b9440789eee47edda8)

0x7c2cdf5e02a0 is located 0 bytes after 160-byte region [0x7c2cdf5e0200,0x7c2cdf5e02a0)
allocated by thread T0 here:
    #0 0x0000004a5d58 in malloc (/home/diaski/pp/swallow+0x4a5d58) (BuildId: 422dd2cee5bde20f999ea7b9440789eee47edda8)
    #1 0x0000004ecce7 in create_game_map /home/diaski/pp/map.c:4:16
    #2 0x0000004ed284 in create_map /home/diaski/pp/map.c:29:5
    #3 0x0000004ea58b in create_window /home/diaski/pp/graphics.c:11:5
    #4 0x0000004ea218 in main /home/diaski/pp/main.c:56:19
    #5 0x7f4ce022d5b4 in __libc_start_call_main (/lib64/libc.so.6+0x35b4) (BuildId: b1556adba4fb835078af59a0c8bb38367dc860ed)
    #6 0x7f4ce022d667 in __libc_start_main@GLIBC_2.2.5 (/lib64/libc.so.6+0x3667) (BuildId: b1556adba4fb835078af59a0c8bb38367dc860ed)
    #7 0x000000400864 in _start (/home/diaski/pp/swallow+0x400864) (BuildId: 422dd2cee5bde20f999ea7b9440789eee47edda8)

SUMMARY: AddressSanitizer: heap-buffer-overflow /home/diaski/pp/map.c:51:14 in free_map
Shadow bytes around the buggy address:
  0x7c2cdf5e0000: fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd
  0x7c2cdf5e0080: fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa
  0x7c2cdf5e0100: fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00
  0x7c2cdf5e0180: 00 00 00 00 00 00 00 04 fa fa fa fa fa fa fa fa
  0x7c2cdf5e0200: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x7c2cdf5e0280: 00 00 00 00[fa]fa fa fa fa fa fa fa 00 00 00 00
  0x7c2cdf5e0300: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7c2cdf5e0380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7c2cdf5e0400: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7c2cdf5e0480: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x7c2cdf5e0500: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==54449==ABORTING
